var canvas = document.getElementById('board');
var ctx = canvas.getContext('2d');

// var sgfStr = '(;GM[1]FF[4]CA[UTF-8]AP[CGoban:3]ST[2]RU[Chinese]SZ[19]KM[7.50]TM[7200]OT[3x60 byo-yomi]GN[Google Deepmind Challenge Match: Lee Sedol vs AlphaGo]PW[Lee Sedol]PB[AlphaGo]WR[9p]DT[2016-03-13]EV[Google Deepmind Challenge Match]RO[game 4]PC[Four Seasons Hotel, Seoul, Korea]SO[DeepMind: https://www.youtube.com/channel/UCP7jMXSY2xbc3KCAE0MHQ-A]US[Dennis Wheeler]RE[W+Resign]C[Google DeepMind Challenge MatchBlack:  AlphaGoWhite:  Lee Sedol 9pGame 42016-03-13];B[pd];W[dp];B[cd];W[qp];B[op];W[oq];B[nq];W[pq];B[cn];W[fq];B[mp];W[po];B[iq];W[ec];B[hd];W[cg];B[ed];W[cj];B[dc];W[bp];B[nc];W[qi];B[ep];W[eo];B[dk];W[fp];B[ck];W[dj];B[ej];W[ei];B[fi];W[eh];B[fh];W[bj];B[fk];W[fg];B[gg];W[ff];B[gf];W[mc];B[md];W[lc];B[nb];W[id];B[hc];W[jg];B[pj];W[pi];B[oj];W[oi];B[ni];W[nh];B[mh];W[ng];B[mg];W[mi];B[nj];W[mf];B[li];W[ne];B[nd];W[mj];B[lf];W[mk];B[me];W[nf];B[lh];W[qj];B[kk];W[ik];B[ji];W[gh];B[hj];W[ge];B[he];W[fd];B[fc];W[ki];B[jj];W[lj];B[kh];W[jh];B[ml];W[nk];B[ol];W[ok];B[pk];W[pl];B[qk];W[nl];B[kj];W[ii];B[rk];W[om];B[pg];W[ql];B[cp];W[co];B[oe];W[rl];B[sk];W[rj];B[hg];W[ij];B[km];W[gi];B[fj];W[jl];B[kl];W[gl];B[fl];W[gm];B[ch];W[ee];B[eb];W[bg];B[dg];W[eg];B[en];W[fo];B[df];W[dh];B[im];W[hk];B[bn];W[if];B[gd];W[fe];B[hf];W[ih];B[bh];W[ci];B[ho];W[go];B[or];W[rg];B[dn];W[cq];B[pr];W[qr];B[rf];W[qg];B[qf];W[jc];B[gr];W[sf];B[se];W[sg];B[rd];W[bl];B[bk];W[ak];B[cl];W[hn];B[in];W[hp];B[fr];W[er];B[es];W[ds];B[ah];W[ai];B[kd];W[ie];B[kc];W[kb];B[gk];W[ib];B[qh];W[rh];B[qs];W[rs];B[oh];W[sl];B[of];W[sj];B[ni];W[nj];B[oo];W[jp]C[Black resigns. 黑棋认输])';

// var sgfStr = '(;GM[1]FF[4]CA[UTF-8]SZ[19]AB[pd][nc][pq][qp][qi]AW[qn][qk]C[White feels extreme and decides not to answer the pincer at R11 of black\'s.How to attack?](;B[oj]C[What if white plays Tenuki here? (A)]LB[aa:A](;W[aa];B[pl]C[Is this attack strong enough? White can live, but give black a lot of influence as well. Would that be a worth investment of 2 moves (pincer the group, then keima) as early as ~50 moves into the game?To me it feels very underwhelming.];W[ql];B[pm];W[pn];B[on];W[oo];B[nn];W[pp];B[op];W[po];B[oq]C[This one might awkward];W[ri]C[White can live here I guess?])(;W[ok]C[In books they mention this move but never show the variations. Ones that I show here is ones I\'d immediately consider in a real game, but they make for a very awkward shape for white](;B[nk];W[ol];B[nl]C[This is so painful by cheeks hurt when I look at it];W[nm];B[mm];W[nn])(;B[mj]C[I would play this as black on this diagram, though];W[nk];B[mk];W[ml];B[ll];W[mm]LB[om:A][rm:B]C[Feels weird as white, also A is painful later, especially in a combination with B])))(;B[ok]C[This is a mistake, but one seen quite often in kyu games. It makes bad shape for black and I\'d assume it\'s quite bad on this diagram as well.However! I don\'t know the sequence that would end up good for white here. Despite black having a weird shape, most variations end up very well for black.];W[pj];B[oi]C[But how to proceed from here? What is the pattern?](;W[oj];B[nj](;W[nk]C[This one looks very risky for white])(;W[pi];B[ph](;W[oh];B[ni];W[qh];B[pg];W[rh]C[This one is obviously underwhelming, but at least it settles white for the time being])(;W[ni];B[oh];W[nk];B[mj];W[ol]LB[nl:A][oh:B]C[Or ASame result as when cutting at B - settles white but gives black a lot])(;W[nk];B[oh];W[mk]C[If you atari at A it feels a bit overconcentrated and also goteIf black extends at A now it\'s kinda painful]LB[ol:A])(;W[qh];B[pg]LB[pk:A][ri:B]C[I think white have to defend against the push at A now? Otherwise when white connects, black\'s B looks very painful])))(;W[pi];B[ph](;W[oh];B[qh];W[oj];B[ni];W[nj]C[Doing weird kyu-things here, I think one more push would be \"sente\" for white (otherwise the hane makes for a painful shape of black\'s), but then again it gives black so much on the top-right.Also the p9 has some aji and can be pulled out later to prevent white\'s shape])(;W[qh];B[qg];W[rh];B[pg]C[Underwhelming for obvious reasons];W[oj];B[ni]C[Black can give up the stone and keep building];W[nj];B[mi])(;W[ri];B[rh];W[rj]C[This one settles white in gote I guess, but there is so much aji around A now that I\'m not sure]LB[rm:A])))(;B[rl]C[This one is obviously a bad attack for black here](;W[ql]C[This is a \"kyu\" variation, I think many SDK would be able to play this one out if they don\'t know the proper response here.Still quite good for white];B[rk];W[rm];B[qj];W[ol])(;W[rk]C[Proper sequence](;B[qm];W[pm];B[rn];W[ql];B[rm];W[ok])(;B[ql]C[Common kyu (mostly DDK) mistake. Try to read out the results of white\'s A here. Fairly basic shape.]LB[pl:A]))))';

var sgfStr = '(;FF[4]AP[Primiview:3.1]GM[1]SZ[19]GN[Gametree 1: properties]US[Arno Hollosi](;B[pd]N[Moves, comments, annotations]C[Nodename set to: "Moves, comments, annotations"];W[dp]GW[1]C[Marked as "Good for White"];B[pp]GB[2]C[Marked as "Very good for Black"];W[dc]GW[2]C[Marked as "Very good for White"];B[pj]DM[1]C[Marked as "Even position"];W[ci]UC[1]C[Marked as "Unclear position"];B[jd]TE[1]C[Marked as "Tesuji" or "Good move"];W[jp]BM[2]C[Marked as "Very bad move"];B[gd]DO[]C[Marked as "Doubtful move"];W[de]IT[]C[Marked as "Interesting move"];B[jj];C[White "Pass" move]W[];C[Black "Pass" move]B[tt])(;AB[dd][de][df][dg][do:gq]  AW[jd][je][jf][jg][kn:lq][pn:pq]N[Setup]C[Black & white stones at the top are added as single stones.Black & white stones at the bottom are added using compressed point lists.];AE[ep][fp][kn][lo][lq][pn:pq]C[AddEmptyBlack stones & stones of left white group are erased in FF[3\] way.White stones at bottom right were erased using compressed point list.];AB[pd]AW[pp]PL[B]C[Added two stones.Node marked with "Black to play".];PL[W]C[Node marked with "White to play"])(;AB[dd][de][df][dg][dh][di][dj][nj][ni][nh][nf][ne][nd][ij][ii][ih][hq][gq][fq][eq][dr][ds][dq][dp][cp][bp][ap][iq][ir][is][bo][bn][an][ms][mr]AW[pd][pe][pf][pg][ph][pi][pj][fd][fe][ff][fh][fi][fj][kh][ki][kj][os][or][oq][op][pp][qp][rp][sp][ro][rn][sn][nq][mq][lq][kq][kr][ks][fs][gs][gr][er]N[Markup]C[Position set up without compressed point lists.];TR[dd][de][df][ed][ee][ef][fd:ff] MA[dh][di][dj][ej][ei][eh][fh:fj] CR[nd][ne][nf][od][oe][of][pd:pf] SQ[nh][ni][nj][oh][oi][oj][ph:pj] SL[ih][ii][ij][jj][ji][jh][kh:kj] TW[pq:ss][so][lr:ns] TB[aq:cs][er:hs][ao]C[Markup at top partially using compressed point lists (for markup on white stones); listed clockwise, starting at upper left:- TR (triangle)- CR (circle)- SQ (square)- SL (selected points)- MA (\'X\')Markup at bottom: black & white territory (using compressed point lists)];LB[dc:1][fc:2][nc:3][pc:4][dj:a][fj:b][nj:c][pj:d][gs:ABCDEFGH][gr:ABCDEFG][gq:ABCDEF][gp:ABCDE][go:ABCD][gn:ABC][gm:AB][mm:12][mn:123][mo:1234][mp:12345][mq:123456][mr:1234567][ms:12345678]C[Label (LB property)Top: 8 single char labels (1-4, a-d)Bottom: Labels up to 8 char length.];DD[kq:os][dq:hs]AR[aa:sc][sa:ac][aa:sa][aa:ac][cd:cj]  [gd:md][fh:ij][kj:nh]LN[pj:pd][nf:ff][ih:fj][kh:nj]C[Arrows, lines and dimmed points.])(;B[qd]N[Style & text type]C[There are hard linebreaks & soft linebreaks.Soft linebreaks are linebreaks preceeded by \'\\\' like this one >o\k<. Hard line breaks are all other linebreaks.Soft linebreaks are converted to >nothing<, i.e. removed.Note that linebreaks are coded differently on different systems.Examples (>ok< shouldn\'t be split):linebreak 1 "\\n": >o\k<linebreak 2 "\\n\\r": >o\k<linebreak 3 "\\r\\n": >o\k<linebreak 4 "\\r": >o\k<](;W[dd]N[W d16]C[Variation C is better.](;B[pp]N[B q4])(;B[dp]N[B d4])(;B[pq]N[B q3])(;B[oq]N[B p3]))(;W[dp]N[W d4])(;W[pp]N[W q4])(;W[cc]N[W c17])(;W[cq]N[W c3])(;W[qq]N[W r3]))(;B[qr]N[Time limits, captures & move numbers]BL[120.0]C[Black time left: 120 sec];W[rr]WL[300]C[White time left: 300 sec];B[rq]BL[105.6]OB[10]C[Black time left: 105.6 secBlack stones left (in this byo-yomi period): 10];W[qq]WL[200]OW[2]C[White time left: 200 secWhite stones left: 2];B[sr]BL[87.00]OB[9]C[Black time left: 87 secBlack stones left: 9];W[qs]WL[13.20]OW[1]C[White time left: 13.2 secWhite stones left: 1];B[rs]C[One white stone at s2 captured];W[ps];B[pr];W[or]MN[2]C[Set move number to 2];B[os]C[Two white stones captured(at q1 & r1)];MN[112]W[pq]C[Set move number to 112];B[sq];W[rp];B[ps];W[ns];B[ss];W[nr];B[rr];W[sp];B[qs]C[Suicide move(all B stones get captured)]))(;FF[4]AP[Primiview:3.1]GM[1]SZ[19]C[Gametree 2: game-infoGame-info properties are usually stored in the root node.If games are merged into a single game-tree, they are stored in the node\ where the game first becomes distinguishable from all other games in\ the tree.];B[pd](;PW[W. Hite]WR[6d]RO[2]RE[W+3.5]PB[B. Lack]BR[5d]PC[London]EV[Go Congress]W[dp]C[Game-info:Black: B. Lack, 5dWhite: W. Hite, 6dPlace: LondonEvent: Go CongressRound: 2Result: White wins by 3.5])(;PW[T. Suji]WR[7d]RO[1]RE[W+Resign]PB[B. Lack]BR[5d]PC[London]EV[Go Congress]W[cp]C[Game-info:Black: B. Lack, 5dWhite: T. Suji, 7dPlace: LondonEvent: Go CongressRound: 1Result: White wins by resignation])(;W[ep];B[pp](;PW[S. Abaki]WR[1d]RO[3]RE[B+63.5]PB[B. Lack]BR[5d]PC[London]EV[Go Congress]W[ed]C[Game-info:Black: B. Lack, 5dWhite: S. Abaki, 1dPlace: LondonEvent: Go CongressRound: 3Result: Balck wins by 63.5])(;PW[A. Tari]WR[12k]KM[-59.5]RO[4]RE[B+R]PB[B. Lack]BR[5d]PC[London]EV[Go Congress]W[cd]C[Game-info:Black: B. Lack, 5dWhite: A. Tari, 12kPlace: LondonEvent: Go CongressRound: 4Komi: -59.5 pointsResult: Black wins by resignation])))';

var root = new Node(null);
parse(sgfStr, root, 0);
sgfStr = printToSGF(root);

var sd = new SGFDriver(sgfStr);
